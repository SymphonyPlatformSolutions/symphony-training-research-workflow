id: researchWorkflow

variables:
  researchApprovalRoomId: EV3Xqb4V402DnHtd+azOqn///oLSWpuQdA==

activities:
  - send-message:
      id: researchAuthorForm
      on:
        message-received:
          content: /research
      content:
        <form id="researchAuthorForm">
        <h2>Research Authoring Form</h2>
        <text-field name="researchTicker" placeholder="Please enter the ticker here"></text-field>
        <textarea name="researchContent" placeholder="Please enter your Research here and then Submit form."></textarea>
        <button name="textarea">Submit</button>
        </form>
  
  - pin-message:
      id: pinResearchForm
      message-id: ${researchAuthorForm.outputs.msgId}

  - send-message:
      id: researchApprovalForm
      to:
        stream-id: ${variables.researchApprovalRoomId}
      content:
        <form id="researchApprovalForm">
        <h2>Research Approval Form</h2>
        <hr/>
        <textarea name="researchApprovalFormattedContent" label="Research Formatted Content">You will see the Research Content for Approval here.</textarea>
        <button name="approve" type="action">Approve</button>
        <button name="reject" type="action">Reject</button>
        </form>
